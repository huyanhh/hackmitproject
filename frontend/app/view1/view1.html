<div ng-repeat="(key, groupname) in group">
	<h3 class="faded"> Group of lights with ID "{{key}}" is currently in "{{groupname.state}}" mode </h3>
	Change Mode: <input type="text" ng-model="newState"/>
	<button ng-click="changemode(key, newState)">Change mode</button><br><br>
	<div>
		<h4> Time: {{groupname.time}}</h4> 
	</div>
	<br>

	<h4>Alarms: </h4>
	<div ng-repeat="alarm in groupname.alarms track by $index" ng-if="groupname.alarms">
	<div class="alarm-list">
		Alarm {{$index + 1}} - Every day at {{alarm.setoffTime}} for {{alarm.duration}}
		<br>
		<button ng-click="alarm.edit=!alarm.edit">Edit alarm</button>
		<div ng-show="alarm.edit">
			Time: <input type="time" ng-model="alarm.newSetoffTime" step="60"><br>
			Duration: <input type="number" ng-model="alarm.newDuration"><br>
			<button ng-click="saveAlarmEdits($index, alarm, key)">Save</button>
		</div>
	</div>
	<br>
	<div align="left">
		<button>Add alarm</button>	
	</div>
	<br>
	<div ng-if="!groupname.waketime" ng-if="!groupname.bedtime" ng-repeat="warning in warnings track by $index">{{warning}}</div>
	<br>
	<div ng-if="groupname.waketime" ng-if="groupname.bedtime">
		<u>Your</u> Typical Schedule: You are typically awake between {{groupname.waketimeFormatted}} and {{groupname.bedtimeFormatted}} <button ng-click="groupname.editSleepWake=!groupname.editSleepWake">Change</button>
	</div>
	<button ng-if="!groupname.waketime" ng-if="!groupname.bedtime" ng-click="groupname.editSleepWake=!groupname.editSleepWake">Add Sleep/Wake Time</button>
	<div ng-if="groupname.editSleepWake">
		{{groupname}}
		Awake from <input type="time" ng-model="groupname.newWakeTime"> to <input type="time" ng-model="groupname.newBedTime">
		<button ng-click="changeAwakeTime(groupname, key)">Update!</button>
	</div>
</div> 
<!-- <div class="col-sm-6">Lightbulbs will go here!!!!!!!!!!!!!!!!!!!!</div> -->

